# Keycloak

Запуск keycloak windows

Прописал системные переменные, JAVA_HOME
прописал данные БД в конфиге keycloak.conf

```shell
kc.bat start-dev --http-port=8180
```

Чтобы проверить какие порты какими приложениями заняты (Windows):
```shell
netstat -aon
```

Создали пользователя в keycloak:
```shell
login: root
pwd: root
```

Каждое приложение – имеет свой Realm (рабочая область со всем данными и пользователями)

Создали свой realm с именем:
```shell
my-todoapp-realm
```

Настраиваем клиент (наше бэкенд приложение)

#### **Access Type**

confidential:
- будет использоваться статичный secret из KeyCloak
- сокращается кол-во шагов на получение access token
- сервер, где формируется UI, хранит secret у себя в коде или в файле
- сервер, где формируется UI, должен гарантировать безопасное хранение secret
- используется для server-side-applications (UI формируется на сервере)

public:
- НЕ будет использоваться статичный secret, а будет каждый раз формироваться динамический
- сервер, где формируется UI, НЕ хранит secret у себя в коде или в файле
- сервер, где формируется UI, НЕ может гарантировать безопасное хранение secret
- увеличивается кол-во шагов для получения access token (также нагрузка на frontend-код, потому что потребуется выполнять крипто-функции)
- используется для client-side-applications (JS фреймфорки, Angular, React, Vue.js)